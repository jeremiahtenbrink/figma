import React, { useEffect, useState } from "react";
import styled from "styled-components";
/**
 * @typedef {Anime} anime
 */
import anime from "animejs";

/**
 *   Morph
 *
 *  @component
 *
 */
const Morph = ( props ) => {
  
  const [ svgButton, setSvgButton ] = useState( {} );
  
  const [ open, setOpen ] = useState( false );
  
  const onClick = () => {
    debugger;
    if( open ){
      svgButton.play();
      
    }else{
      svgButton.reverse();
      
    }
    setOpen( !open );
  };
  
  useEffect( () => {
    setSvgButton( anime( {
      targets: "#NightMode",
      d: [
        { value: "M3 1.49999L457.5 3.49999L1059 0H1664.5L2400 4.49999L2398.5 469.5L2398 1004L1578 1003L979 1002.5L0.397461 1001.26L2.19252 482.388L3 1.49999Z" },
        { value: "M0.999985 1.49999L455.5 3.49999L1057 0H1662.5L2398 4.49999L2396.5 469.5L2396 1004L1576 1003L977 1002.5L533 294.5L0.192505 482.388L0.999985 1.49999Z" },
        { value: "M0.999985 1.49999L455.5 3.49999L1057 0H1662.5L2398 4.49999L2396.5 469.5L2396 1004L1576 1003L474.5 278.5L533 294.5L0.192505 482.388L0.999985 1.49999Z" },
        { value: "M0.999985 1.49999L455.5 3.49999L1057 0H1662.5L2398 4.49999L2396.5 469.5L2396 1004L501 257L474.5 278.5L533 294.5L0.192505 482.388L0.999985 1.49999Z" },
        { value: "M0.999985 1.49999L455.5 3.49999L1057 0H1662.5L2398 4.49999L2396.5 469.5L409 226.5L501 257L474.5 278.5L533 294.5L0.192505 482.388L0.999985 1.49999Z" },
        { value: "M1 1.49999L455.5 3.49999L1057 0H1662.5L2398 4.49999L476.5 221.5L409 226.5L501 257L474.5 278.5L533 294.5L0.192505 482.388L1 1.49999Z" },
        { value: "M1 1.49999L455.5 3.49999L1057 0H1662.5L375 234L476.5 221.5L409 226.5L501 257L474.5 278.5L533 294.5L0.192505 482.388L1 1.49999Z" },
        { value: "M1 1.49999L455.5 3.49999L1057 0L344.5 220L375 234L476.5 221.5L409 226.5L501 257L474.5 278.5L533 294.5L0.192505 482.388L1 1.49999Z" },
        { value: "M1 1.49999L455.5 3.49999L1057 0L344.5 220L375 234L476.5 221.5L409 226.5L501 257L474.5 278.5L533 294.5L0.192505 482.388L1 1.49999Z" },
        { value: "M0 1.49999L454.5 3.49999L1056 0L317 169.5L358 221L393 210L413.5 187L414 154.5L364 121H268L224 139.5L0 1.49999Z" },
        { value: "M0.5 196L232.5 3.49999L834 0L95 169.5L136 221L171 210L191.5 187L192 154.5L142 121H46L2 139.5L0.5 196Z" },
        { value: "M0.5 196L51.5 219L834 0L95 169.5L136 221L171 210L191.5 187L192 154.5L142 121H46L2 139.5L0.5 196Z" },
        { value: "M9.50002 78C21.1737 96.4683 49 101 49 101L165 102L104 51.5L145 103L180 92L200.5 69L201 36.5L151 3C151 3 84 -6.33299e-07 49 0.5C32.0465 0.742193 20.867 7.71152 11 21.5C-1.8449 39.4499 -2.29334 59.3424 9.50002 78Z" },
        { value: "M8.5038 78C20.1775 96.4683 48.0038 101 48.0038 101L149.504 101L103.004 51.5L146.504 101.5C146.504 101.5 165.504 102.5 179.004 92C188.501 84.613 192.522 80.1664 197.004 69C201.731 57.2197 202.286 49.617 198.504 37.5C191.348 14.5728 169.004 -1.7643e-05 150.504 0C110.473 3.81762e-05 83.0038 -1.29342e-05 48.0038 0.499987C31.0503 0.74218 19.8708 7.71151 10.0038 21.5C-2.84112 39.4499 -3.28956 59.3423 8.5038 78Z" },
      
      ],
      easing: "easeOutQuad",
      direction: "alternate",
      autoplay: false,
      loop: false,
      duration: 10000,
    } ) );
  }, [] );
  
  return ( <Container maxWidth={ "100vw" } maxHeight="100vh">
    <svg width="2400" height="1004" viewBox="0 0 2400 1004" fill="none"
         xmlns="http://www.w3.org/2000/svg" onClick={ onClick }>
      <g>
        <path onClick={ () => onClick() } id={ "NightMode" }
              d="M0 0H2399.6V1004H0V0Z"
              fill="black"/>
        <path id="rectangle1"
              d="M44.5038 108C56.1775 126.468 84.0038 131 84.0038 131L185.504 131L139.004 81.5L182.504 131.5C182.504 131.5 201.504 132.5 215.004 122C224.501 114.613 228.522 110.166 233.004 99C237.731 87.2197 238.286 79.617 234.504 67.5C227.348 44.5728 205.004 30 186.504 30C146.473 30 119.004 30 84.0038 30.5C67.0503 30.7422 55.8708 37.7115 46.0038 51.5C33.1589 69.4499 32.7104 89.3423 44.5038 108Z"
              fill="#030732" fillOpacity={ "0.81" }/>
      </g>
    </svg>
  </Container> );
};

const Container = styled.div`
width: 100%;
height: 100%;
max-height: ${ props => props.maxHeight };
max-width: ${ props => props.maxWidth };
svg {
position: absolute;
top: 0;
left: 0;
rectangle {
z-index: -1;
}
}
`;

Morph.propTypes = {};

export default Morph;